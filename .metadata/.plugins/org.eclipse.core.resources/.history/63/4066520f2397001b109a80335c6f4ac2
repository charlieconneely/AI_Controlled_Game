package ie.gmit.sw.ai;

public class Hunter implements Command {

	private GameModel model;
	private PathFinder pathFinder;
	private char enemyID;
	private int row, col;
	private int playerPosx, playerPosy;
	
	public Hunter(GameModel model, char enemyID, int row, int col) {
		this.model = model;
		this.enemyID = enemyID;
		this.row = row;
		this.col = col;
		pathFinder = new PathFinder(model);
		playerPosx = playerPosy = 0;
	}
	
	@Override
	public boolean execute() {
		if (model.isTouchingCharacter('1', row, col)) {
			model.set(row, col, '\u0020');
			return false;
		}
		findPlayerPos();
		
		System.out.println("before");
		Path path = pathFinder.findPath(row, col, playerPosx, playerPosy);
		System.out.println("after");
		
		//System.out.println(path);
		return true;
	}
	
	private void findPlayerPos() {
		char[][] map = model.getModel();
		for (int i = 0; i < map.length; i++) {
			for (int j = 0; j < map[i].length; j++) {
				if (model.get(i, j) == '1') {
					playerPosx = i;
					playerPosy = j;
				}
			}
		}
	}
}
